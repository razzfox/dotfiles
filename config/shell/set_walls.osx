WALLPAPERS=~/walls

# Copy random wallpapers
set_walls() {
  test -d $WALLPAPERS || return 1

  mkdir -p ~/Pictures

  if test "$( cat ~/Pictures/date.txt 2>/dev/null )" != "$(date +%F)" -o -e "$( find ~/walls/ -maxdepth 1 -type f | tail -n 1 )"; then
    rm ~/Pictures/*.{jpg,JPG,jpeg,JPEG,png,PNG,gif,GIF,bmp,BMP,tiff,TIFF,tif,TIF} 2>/dev/null
    cp $(lr $WALLPAPERS | tail) ~/Pictures/ 2>/dev/null
    date +%F > ~/Pictures/date.txt
  fi
}

set_walls
